<script type="text/javascript">
    RED.nodes.registerType('if-statement', {
      category: 'Classical feedforward and control flow',
      color: '#C0DEED',
      defaults: {
        name: { value: "If statement" },
        info: {
          value: "# The if statement is used to conditionally perform operations based on the value of a classical bit or register.\r\n&nbsp;\r\n# In the code snippet below, we apply a Hadamard gate to a qubit and measure it. If the result is 1, then we apply an X gate on the qubit, which has the effect of flipping it back to the 0 state. We then measure the qubit again.\r\n```python\r\nfrom qiskit.circuit import QuantumCircuit, QuantumRegister, ClassicalRegister\r\n \r\nqubits = QuantumRegister(1)\r\nclbits = ClassicalRegister(1)\r\ncircuit = QuantumCircuit(qubits, clbits)\r\n(q0,) = qubits\r\n(c0,) = clbits\r\n \r\ncircuit.h(q0)\r\ncircuit.measure(q0, c0)\r\nwith circuit.if_test((c0, 1)):\r\n    circuit.x(q0)\r\ncircuit.measure(q0, c0)\r\ncircuit.draw(\"mpl\")\r\n \r\n# example output counts: {'0': 1024}\r\n```\r\n# The code will use the code snippets from \"Introduction to classical feedforward and control flow\" node to run on the simulator and store the statistical results in the `counts` variable. The resulting measurement outcome should be 0 with 100% probability.\r\n&nbsp;\r\n# The result is sent to \"If statement Measure\" node and you can check it in the debug sidebar. You can also check the Image of the circuit in the \"If statement Circuit Diagram\" node.\r\n\r\n***\r\n&nbsp;\r\n## **Node Output:**\r\n- # Dictionary: `counts`\r\n- # Image: The image of `circuit`"
        }
      },
      inputs: 1,
      outputs: 1,
      icon: "file.svg",
      label: function () {
        return this.name || "If statement";
      }
    });
  </script>
  
  <script type="text/html" data-template-name="if-statement">
    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
        <input type="text" id="node-input-name" placeholder="Name">
    </div>
  </script>
  
  <script type="text/html" data-help-name="if-statement">
    <p>A node that introduce if statement in qiskit.</p>

    <h3>Outputs</h3>
    <ol class="node-ports">
      <li>Dictionary
        <dl class="message-properties">
          <dt>counts<span class="property-type">dict</span></dt>
          <dd>The result of running circuits on simulator in 1024 shots. The key represents the quantum state, and the value is the number of times the quantum is in that state out of 1024 shots.</dd>
        </dl>
      </li>
      <li>Circuit Diagram
        <dl class="message-properties">
          <dt>circuit_diagram <span class="property-type">string (Base64)</span></dt>
          <dd>The Base64-encoded string representing the visual diagram of the quantum circuit.</dd>
        </dl>
      </li>
    </ol>

    <h3>Details</h3>
    <p>
      This node provides an introduction to the use of conditional operations in quantum circuits with Qiskit. It demonstrates how to apply a Hadamard gate to a qubit, measure its state, and conditionally perform further operations based on the measurement outcome. Specifically, if the initial measurement yields a result of 1, an X gate is applied to flip the qubit back to the 0 state, followed by a final measurement. The node showcases how quantum operations can be controlled and manipulated based on classical measurement outcomes, illustrating fundamental concepts in quantum circuit design and conditional logic.
    </p>
  </script>