<script type="text/javascript">
  RED.nodes.registerType('transpilation-approximation-degree', {
    category: 'Transpiler parameters',
    color: '#FDD0A2',
    defaults: {
      name: { value: "Approximation degree" }
    },
    info: "# Commonly Used Parameters for Transpilation\n\nThis guide covers key parameters for local transpilation. These parameters are set using arguments for `generate_preset_pass_manager` or `transpile`.\n\n## Approximation Degree\n\n- **Definition**: Controls how closely the output circuit matches the input circuit.\n- **Range**: `0.0` (max approximation) to `1.0` (no approximation, default).\n- **Usage**: Smaller values trade accuracy for fewer gates, making execution easier.\n- **Default**: `1.0`\n\n### In Two-Qubit Unitary Synthesis\n\n- **Target Fidelity**: Lower approximation degrees result in circuits that differ more from the input but have fewer gates.\n- **Error Trade-off**: Fewer gates can reduce hardware errors, especially with the CX gate, which is error-prone.\n- **Example**: Synthesizing a random two-qubit `UnitaryGate` with an approximation degree less than `1.0` can generate an approximate circuit. Specify `basis_gates` for allowable gates in synthesis.\n```\nfrom qiskit import QuantumCircuit, QuantumRegister\nfrom qiskit.circuit.library import UnitaryGate\nfrom qiskit.quantum_info import random_unitary\nfrom qiskit.transpiler.preset_passmanagers import generate_preset_pass_manager\n \nUU = random_unitary(4, seed=12345)\nrand_U = UnitaryGate(UU)\n \nqubits = QuantumRegister(2, name=\"q\")\nqc = QuantumCircuit(qubits)\nqc.append(rand_U, qubits)\npass_manager = generate_preset_pass_manager(\n    optimization_level=1, approximation_degree=0.85, basis_gates=[\"sx\", \"rz\", \"cx\"]\n)\napprox_qc = pass_manager.run(qc)\nprint(approx_qc.count_ops()[\"cx\"])\n```",
    inputs: 1,
    outputs: 1,
    icon: "file.svg",
    paletteLabel: "approximation degree",
    label: function () {
      return this.name || "approximation degree";
    }
  });
</script>

<script type="text/html" data-template-name="transpilation-approximation-degrees">
  <div class="form-row">
      <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
      <input type="text" id="node-input-name" placeholder="Name">
  </div>
</script>

<script type="text/html" data-help-name="transpilation-approximation-degree">
  <p>A node that introduces the transpilation approximation degree</p>

  <h3>Outputs</h3>
  <ol class="node-ports">
    <li>Synthesis Fidelity Exact
      <dl class="message-properties">
        <dt>payload.result.optimal_cx_num <span class="property-type">number</span></dt>
        <dd>Shows the optimal cx number generated by the example.</dd>
      </dl>
    </li>
  </ol>

  <h3>Details</h3>
  <p>
    A node that introduces the transpilation approximation degree
  </p>
</script>