
<script type="text/javascript">
    RED.nodes.registerType("define-use-custom-classical-instruction", {
      category: "Import OpenQASM 2 program",
      color: "#aaaaaa",
      defaults: {
        name: { value: "Use custom classical instructions" },
        info: { value: "# **Example: use custom classical instructions**\r\n&nbsp;\r\n# Here we provide two custom classical functions. The first is simple, and just adds one to its input. The second is the function <font style=\"background: lightgrey\">math.atan2</font>, which represents the mathematical operation arctan(y/x) in a quadrant-aware manner. Then, we define a list 'customs' containing instances of custom classical operations.\r\n```python\r\ndef add_one(x):\r\n    return x + 1\r\n \r\ncustoms = [\r\n    # Our `add_one` takes only one parameter.\r\n    qasm2.CustomClassical(\"add_one\", 1, add_one),\r\n    # `arctan` takes two parameters, and `math.atan2` implements it.\r\n    qasm2.CustomClassical(\"arctan\", 2, math.atan2),\r\n]\r\n```\r\n# Next, we can simply call these two instructions in the OpenQASM 2 program with the name we defined in the list, and construct circuit with the list 'customs'.\r\n```python\r\nprogram = '''\r\n    include \"qelib1.inc\";\r\n    qreg q[2];\r\n    rx(arctan(pi, 3 + add_one(0.2))) q[0];\r\n    cx q[0], q[1];\r\n'''\r\n\r\ncircuit = qasm2.loads(program, custom_classical=customs)\r\n``` \r\n# You can check the image of constructed circuit in the \"Image Output for Custom Classical Instructions\" node.\r\n\r\n***\r\n&nbsp;\r\n## **Node Output:**\r\n- # Image: the image of loaded circuit with custom classical instructions.\r\n" }
      },
      inputs: 1,
      outputs: 1,
      icon: "file.svg",
      label: function () {
        return this.name || "Use custom classical instructions";
      },
      
    });

  </script>
  
  <script type="text/html" data-template-name="define-use-custom-classical-instruction">
    <div class="form-row">
      <label for="node-input-name"><i class="fa fa-tag"></i> Name</label>
      <input type="text" id="node-input-name" placeholder="Use custom classical instructions" />
    </div>

  </script>

  
  
  <script type="text/html" data-help-name="define-use-custom-classical-instruction">
    <p>A node that use Use custom classical instructions when importing an OpenQASM 2 program.</p>

    <h3>Outputs</h3>
    <ol class="node-ports">
      <li>Circuit Diagram
        <dl class="message-properties">
          <dt>circuit_diagram <span class="property-type">string (Base64)</span></dt>
          <dd>The Base64-encoded string representing the visual diagram of the quantum circuit.</dd>
        </dl>
      </li>
    </ol>
  
    <h3>Details</h3>
    <p>
      This node provides an introduction to integrating custom classical functions in quantum circuits using Qiskit. It allows users to define and incorporate user-defined classical operations, such as mathematical functions, directly into OpenQASM 2 programs. By specifying these operations, users can enhance their quantum circuits with customized classical logic.
    </p>
  </script>
  